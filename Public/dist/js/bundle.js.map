{"version":3,"sources":["app.js","cardflow.js","Controllers/detailsCtrl.js","Controllers/formsCtrl.js","Controllers/mainCtrl.js","Directives/fileread.js","Directives/footerDir.js","Directives/headerDir.js","Directives/mainDir.js","Directives/scrollSpyDir.js","Services/imagesService.js","Services/mainService.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","setTransform","element","matrix","transform","t","window","getComputedStyle","prefix","forEach","p","m","match","length","map","e","Number","i","undefined","css","join","directive","$swipe","$timeout","link","scope","attrs","model","cardWidth","wrapperEl","find","containerEl","current","cards","mode","increment","setPositionX","position","$watch","cardEls","children","offsetLeft","offsetWidth","totalWidth","pageSize","Math","floor","clientWidth","removeClass","addClass","swipeLeft","swipeRight","transition","offset","velocity","timestamp","bind","start","coords","x","Date","now","end","elapsed","distance","abs","$apply","move","$scope","mainService","$stateParams","$location","bid","parseInt","id","getAllBus","getBusData","then","response","b1","getSpecial","getSpecialData","s1","getMenu","getMenuData","m1","getMenuItemsData","res","items","j","menuid","menu_id","push","getGallery","getGalleryData","g1","editBusiness","selected","path","featureBus","featBus","console","log","deleteBusiness","deleteBus","alert","images","newBus","addBus","bus_logo","spimg1","spimg2","bus_cover_img","spbg1","spbg2","addNewBus","business","updateBusiness","update","updateBus","resFromDb","cardflowSnapPage","featured","restaurants","coffeeCafe","bars","bakeries","desserts","takeouts","getBusiness","bus_type","imageService","restrict","elem","changeEvent","reader","FileReader","onloadend","loadEvent","fileread","target","result","tempArray","value","split","fileName","storeImage","data","Location","catch","err","error","readAsDataURL","files","click","scrollSpy","factory","$http","service","imageData","imageExtension","newImage","imageName","imageBody","userEmail","post","baseUrl","method","updatedBus"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('merofood', ['ui.router', 'ui.materialize', 'angular-cardflow'])\r\n\t.config(function($stateProvider, $urlRouterProvider){\r\n\r\n\t\t$stateProvider\r\n\r\n\t\t\t.state('home', {\r\n\t\t\t\turl: '/',\r\n\t\t\t\ttemplateUrl: '../views/main.html',\r\n\t\t\t\tcontroller: 'mainCtrl'\r\n\t\t\t})\r\n\r\n\t\t\t.state('b', {\r\n\t\t\t\turl: '/b/:id',\r\n\t\t\t\ttemplateUrl: '../views/merofood_default.html',\r\n\t\t\t\tcontroller: 'detailsCtrl'\r\n\t\t\t})\r\n\r\n\t\t\t.state('default', {\r\n\t\t\t\turl: '/default',\r\n\t\t\t\ttemplateUrl: '../views/merofood_default.html'\r\n\t\t\t})\r\n\r\n\t\t\t.state('night', {\r\n\t\t\t\turl: '/night',\r\n\t\t\t\ttemplateUrl: '../views/merofood_night.html'\r\n\t\t\t})\r\n\r\n\t\t\t.state('new-bus', { //Only if a User is logged in\r\n\t\t\t\turl: '/new-bus',\r\n\t\t\t\ttemplateUrl: '../views/new_bus.html',\r\n\t\t\t\tcontroller: 'formsCtrl'\r\n\t\t\t});\r\n\r\n\t\t\t$urlRouterProvider.otherwise('/');\r\n\r\n\t});","'use strict';\r\n\r\n(function(){\r\n    // set prefixed matrix transform without changing other elements of matrix\r\n    // I tried out matrix3d, but it had visual artifacts in chrome\r\n    var setTransform = function(element, matrix){\r\n        var transform;\r\n        var t = window.getComputedStyle(element);\r\n        var prefix;\r\n        if (t){\r\n            angular.forEach(['moz','o','webkit'], function(p){\r\n                if (t[p + 'Transform']){\r\n                    transform = t[p + 'Transform'];\r\n                    prefix=p;\r\n                }\r\n            });\r\n\r\n            if (transform){\r\n                var m = transform.match(/\\d+/g);\r\n                if (m && m.length == 6){\r\n                    m = m.map(function(e){ return Number(e); });\r\n                }else{\r\n                    m = [1,0,0,1,0,0];\r\n                }\r\n            }else{\r\n                 m = [1,0,0,1,0,0];\r\n            }\r\n\r\n            for(var i=0; i<6;i++){\r\n                if (matrix[i] !== undefined){\r\n                    m[i] = matrix[i];\r\n                }\r\n            }\r\n            var css= {};\r\n            if (!prefix){\r\n                css['transform'] = 'matrix(' + m.join(',') + ')';\r\n            }else{\r\n                css[prefix + 'Transform']='matrix(' + m.join(',') + ')';\r\n            }\r\n            angular.element(element).css(css);\r\n        }\r\n    }\r\n\r\n    var module = angular.module('angular-cardflow', ['ngTouch']);\r\n\r\n    module.directive('cardflow', ['$swipe', '$timeout', function($swipe, $timeout) {\r\n        return {\r\n            'restrict': 'E',\r\n            'template': '<div class=\"cardflow-wrapper\" ng-swipe-left=\"swipeLeft($event)\" ng-swipe-right=\"swipeRight($event)\"><div class=\"cardflow-container\" ng-transclude></div></div>',\r\n            'transclude': true,\r\n            'scope': { 'model' : '=?', 'mode':'=?', 'current':'=?' },\r\n            link: function(scope, element, attrs){\r\n                // next available tick, so element is populated with transcluded content\r\n                $timeout(function(){\r\n                    scope.model = scope.model || {};\r\n                    scope.model.cardWidth = 0;\r\n                    scope.model.wrapperEl=angular.element(element.find('div')[0]);\r\n                    scope.model.containerEl=angular.element(scope.model.wrapperEl.find('div')[0]);\r\n                    scope.model.current = scope.current || scope.model.current || 0;\r\n                    scope.model.cards = scope.model.cards || [];\r\n                    scope.mode = attrs.mode || 'swipeSnapKinetic';\r\n                    scope.model.increment=1;\r\n\r\n                    // wrapper for just setting X-transform of scope.model.containerEl[0]\r\n                    function setPositionX(position){\r\n                        setTransform(scope.model.containerEl[0], [undefined, undefined, undefined, undefined, position, undefined]);\r\n                    }\r\n\r\n                    scope.model.setPositionX = setPositionX;\r\n\r\n                    // track cards list, but use scope.model.cardEls just in case no model was set\r\n                    scope.$watch(function (){ return scope.model.cards; }, function(){\r\n                        scope.model.cardEls = scope.model.containerEl.children();\r\n                        if (scope.model.cardEls && scope.model.cardEls[1]){\r\n                            scope.model.cardWidth = scope.model.cardEls[1].offsetLeft-scope.model.cardEls[0].offsetLeft;\r\n\r\n                            if (scope.model.cardWidth === 0){\r\n                                scope.model.cardWidth = scope.model.cardEls[0].offsetWidth;\r\n                            }\r\n\r\n                            var totalWidth = (scope.model.cardWidth*scope.model.cardEls.length) + scope.model.cardEls[1].offsetLeft;\r\n                            //set container to wide enough to keep  from wrapping\r\n                            scope.model.containerEl.css({'width': totalWidth + 'px'});\r\n\r\n                            scope.model.pageSize = Math.floor(scope.model.wrapperEl[0].clientWidth / scope.model.cardWidth);\r\n                            scope.model.increment = (scope.mode == 'swipeSnapOne') ? 1 : scope.model.pageSize;\r\n                        }\r\n                    });                    \r\n\r\n                    if ( scope.mode != 'swipe'){\r\n                        scope.$watch(function (){ return scope.model.current; }, function(){\r\n                            if (scope.model.cardEls){\r\n                                scope.model.cardEls.removeClass('cardflow-active');\r\n                                var current = angular.element(scope.model.cardEls[scope.model.current]);\r\n                                current.addClass('cardflow-active');\r\n                                if (scope.model.cardWidth){\r\n                                    setPositionX((scope.model.cardWidth * -scope.model.current));\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                    if (scope.mode == 'swipeSnapOne' || scope.mode == 'swipeSnapPage'){\r\n                        scope.swipeLeft = function(){\r\n                            var current = scope.model.current+scope.model.increment;\r\n                            if (current < scope.model.cardEls.length){\r\n                                scope.model.current = current;\r\n                            }\r\n                        };\r\n                        scope.swipeRight = function(){\r\n                            var current = scope.model.current-scope.model.increment;\r\n                            if (current >= 0){\r\n                                scope.model.current = current;\r\n                            }\r\n                        };\r\n                    }\r\n\r\n                    if (scope.mode == 'swipeSnap' || scope.mode == 'swipeSnapKinetic' ||  scope.mode == 'swipe'){\r\n\r\n                        // store transition\r\n                        var transition={};\r\n                        var t = window.getComputedStyle(scope.model.containerEl[0])['transition'];\r\n                        if (t){\r\n                            transition.transition = t + '';\r\n                        }\r\n                        angular.forEach(['moz','o','webkit','ms'], function(p){\r\n                            t = window.getComputedStyle(scope.model.containerEl[0])[p+'Transition'];\r\n                            if (t){\r\n                                transition[p+'Transition'] = t;\r\n                            }\r\n                        });\r\n\r\n                        var offset = 0, position=0, velocity=0, timestamp;\r\n\r\n                        $swipe.bind(scope.model.wrapperEl, {\r\n                            start: function(coords){\r\n                                scope.model.cardEls.removeClass('cardflow-active');\r\n                                offset = (scope.mode == 'swipe') ? coords.x-position : coords.x;\r\n                                \r\n                                // remove transition\r\n                                angular.forEach(['moz','o','webkit','ms'], function(p){\r\n                                    scope.model.containerEl.css(p+'Transition', 'none');\r\n                                });\r\n                                scope.model.containerEl.css({'transition':'none'});\r\n\r\n                                if (scope.mode == 'swipeSnapKinetic'){\r\n                                    velocity = 0;\r\n                                    timestamp = Date.now();\r\n                                }\r\n                            },\r\n                            end: function(coords){\r\n                                // restore transition\r\n                                scope.model.containerEl.css(transition);\r\n                                \r\n                                if ( scope.mode != 'swipe'){\r\n                                    // figure out current card from position\r\n                                    var current = Math.floor((position/-scope.model.cardWidth) + 0.5);\r\n\r\n                                    if (scope.mode == 'swipeSnapKinetic'){\r\n                                        //  calculate velocity here\r\n                                        var now = Date.now();\r\n                                        var elapsed = now-timestamp;\r\n                                        var distance = offset-coords.x;\r\n                                        var velocity = distance/elapsed;\r\n\r\n                                        if (Math.abs(velocity) > 1){\r\n                                            current = Math.floor(current + velocity);\r\n                                        }\r\n\r\n                                    }\r\n\r\n                                    if (current >=0){\r\n                                        if (current > (scope.model.cardEls.length-1)){\r\n                                            current = scope.model.cardEls.length-1;\r\n                                        }\r\n                                    }else{\r\n                                        current = 0;\r\n                                    }\r\n                                    \r\n                                    // trigger update\r\n                                    if (scope.model.current==current){\r\n                                        scope.model.current=-1;\r\n                                        scope.$apply();\r\n                                    }\r\n                                    scope.model.current=current;\r\n                                    scope.$apply();\r\n                                }\r\n                            },\r\n                            move: function(coords){\r\n                                // move cards to current position\r\n                                if (scope.mode != 'swipe'){\r\n                                    position = coords.x - (scope.model.current*scope.model.cardWidth) - offset;\r\n                                }else{\r\n                                    position = coords.x - offset;\r\n                                }\r\n\r\n                                setPositionX(position);\r\n                            },\r\n                        });\r\n                    }\r\n\r\n                });\r\n            }\r\n        };\r\n    }]);\r\n\r\n\r\n})();\r\n\r\n","angular.module('merofood').controller('detailsCtrl', function($scope, mainService, $stateParams, $location){\r\n\t\r\n\tvar bid = parseInt($stateParams.id);\r\n\t\r\n\t// GET ALL BUSINESSES\r\n\t$scope.getAllBus = function(){\r\n\t\tmainService.getBusData().then(function(response){\r\n\t\t\t// console.log(response);\r\n\r\n\t\t\t// GET ONE BUSINESS WITH MATCHED ID\r\n\t\t\tfor(var i = 0; i < response.length; i++){\r\n\t\t\t\tif(response[i].id === bid){\r\n\t\t\t\t\t$scope.b1 = response[i];\r\n\t\t\t\t\t// console.log($scope.b1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t$scope.getAllBus();\r\n\r\n\r\n\t// GET ALL SPECIAL\r\n\t$scope.getSpecial = function(){\r\n\t\tmainService.getSpecialData(bid).then(function(response){\r\n\t\t\t$scope.s1 = response;\r\n\t\t\t// console.log($scope.s1);\r\n\t\t});\r\n\t}\r\n\r\n\t$scope.getSpecial();\r\n\r\n\r\n\t// GET ALL MENU\r\n\t$scope.getMenu = function(){\r\n\t\tmainService.getMenuData(bid).then(function(response){\r\n\t\t\t$scope.m1 = response;\r\n\t\t\tmainService.getMenuItemsData(bid).then(function(res){\r\n\t\t\t\tlet items = res;\r\n\t\t\t\tfor(let i = 0; i < $scope.m1.length; i++){\r\n\t\t\t\t\t$scope.m1[i].items = [];\r\n\t\t\t\t\tfor(let j = 0; j < items.length; j++){\r\n\t\t\t\t\t\tif(items[j].menuid === $scope.m1[i].menu_id){\r\n\t\t\t\t\t\t\t$scope.m1[i].items.push(items[j]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log('m1', $scope.m1);\r\n\t\t});\r\n\t}\r\n\r\n\t$scope.getMenu();\r\n\r\n\r\n\t// GET ALL GALLERY\r\n\t$scope.getGallery = function(){\r\n\t\tmainService.getGalleryData(bid).then(function(response){\r\n\t\t\t$scope.g1 = response;\r\n\t\t\t// console.log($scope.g1)\r\n\t\t});\r\n\t}\r\n\r\n\t$scope.getGallery();\r\n\r\n\r\n\t// UPDATE ONE BUSINESS\r\n\t$scope.editBusiness = function(b1){\r\n\t\tmainService.selected = b1;\r\n\t\t$location.path('/new-bus');\r\n\t}\r\n\r\n\r\n\t// UPDATE FEATURED BUSINESS\r\n\t$scope.featureBus = function(featBus){\r\n\t\t// featBus.id = bid;\r\n\t\tconsole.log(featBus);\r\n\t\t// $location.path('/new-bus');\r\n\t}\r\n\r\n\r\n\t// DELETE ONE BUSINESS\r\n\t$scope.deleteBusiness = function(id){\r\n\t\tconsole.log(id);\r\n\t\tmainService.deleteBus(id).then(function(response){\r\n\t\t\talert('Business Successfully Deleted!!');\r\n\t\t\t$location.path('/');\r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n});","angular.module('merofood').controller('formsCtrl', function($scope, mainService, $location){\r\n\r\n\t$scope.images = [];\r\n\t$scope.newBus = mainService.selected;\r\n\t// console.log($scope.images);\r\n\t$scope.addBus = function(newBus){\r\n\t\t// console.log('addBus fn fired!!!');\r\n\t\tnewBus.bus_logo = $scope.images[0];\r\n\t\tnewBus.spimg1 = $scope.images[1];\r\n\t\tnewBus.spimg2 = $scope.images[2];\r\n\t\tnewBus.bus_cover_img = $scope.images[3];\r\n\t\tnewBus.spbg1 = $scope.images[4];\r\n\t\tnewBus.spbg2 = $scope.images[5];\r\n\r\n\t\tconsole.log(newBus);\r\n\r\n\t\tmainService.addNewBus(newBus).then(function(response){\r\n\t\t\t// console.log(respose);\r\n\t\t\t$scope.business = response;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t// UPDATE BUSINESS\r\n\r\n\t$scope.updateBusiness = function(update){\r\n\t\tmainService.updateBus(update).then(function(response){\r\n\t\t\t$scope.resFromDb = response;\r\n\t\t\t// console.log('update res: ', response);\r\n\t\t\t// $location.path('/');\r\n\t\t});\r\n\t}\r\n\r\n});","angular.module('merofood').controller('mainCtrl', function($scope, mainService){\r\n\r\n\t// console.log('mainCtrl running');\r\n\r\n\t$scope.cardflowSnapPage = {};\r\n\r\n\t$scope.featured = [];\r\n\t$scope.restaurants = [];\r\n\t$scope.coffeeCafe = [];\r\n\t$scope.bars = [];\r\n\t$scope.bakeries = [];\r\n\t$scope.desserts = [];\r\n\t$scope.takeouts = [];\r\n\r\n\t$scope.getBusiness = function(){\r\n\t\tmainService.getBusData().then(function(response){\r\n\t\t\t// $scope.business = response;\r\n\t\t\t// console.log($scope.business);\r\n\t\t\t$scope.cards = response.length;\r\n\t\t\t// console.log($scope.cards)\r\n\r\n\t\t\tfor (let i = 0; i < response.length; i++){\r\n\t\t\t\tif(response[i].featured === 'yes'){\r\n\t\t\t\t\t$scope.featured.push(response[i]);\r\n\t\t\t\t};\r\n\t\t\t};\r\n\r\n\t\t\tfor(let j = 0; j < response.length; j++){\r\n\t\t\t\tif(response[j].bus_type === 'Restaurant'){\r\n\t\t\t\t\t$scope.restaurants.push(response[j]);\r\n\t\t\t\t}\r\n\t\t\t\tif(response[j].bus_type === 'Coffee / Cafe'){\r\n\t\t\t\t\t$scope.coffeeCafe.push(response[j]);\r\n\t\t\t\t}\r\n\t\t\t\tif(response[j].bus_type === 'Bar'){\r\n\t\t\t\t\t$scope.bars.push(response[j]);\r\n\t\t\t\t}\r\n\t\t\t\tif(response[j].bus_type === 'Bakery'){\r\n\t\t\t\t\t$scope.bakeries.push(response[j]);\r\n\t\t\t\t}\r\n\t\t\t\tif(response[j].bus_type === 'Dessert'){\r\n\t\t\t\t\t$scope.desserts.push(response[j]);\r\n\t\t\t\t}\r\n\t\t\t\tif(response[j].bus_type === 'Food Trucks / Take Outs'){\r\n\t\t\t\t\t$scope.takeouts.push(response[j]);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\t$scope.getBusiness();\r\n\r\n\t// $scope.getSpecial = function(){\r\n\t// \tmainService.getSpecialData().then(function(response){\r\n\t// \t\t$scope.special = response;\r\n\t// \t\t// console.log($scope.special);\r\n\t// \t});\r\n\t// }\r\n\r\n\t// $scope.getSpecial();\r\n\r\n});","angular.module('merofood').directive('fileread', function (imageService) {\r\n  return {\r\n    restrict: 'A',\r\n    link: function (scope, elem, attrs) {\r\n      elem.bind(\"change\", function (changeEvent) {\r\n        var reader = new FileReader();\r\n\r\n        reader.onloadend = function (loadEvent) {\r\n          // debugger;\r\n          var fileread = loadEvent.target.result;\r\n          // console.warn(fileread);\r\n\r\n          // console.log('elem: ', elem);\r\n          var tempArray = elem[0].value.split('\\\\');\r\n          var fileName = tempArray[tempArray.length - 1];\r\n\r\n          imageService.storeImage(fileread, fileName)\r\n          .then(function (result) {\r\n            // console.log(result.data.Location);\r\n            scope.images.push(result.data.Location);\r\n            // console.log('fileread: ', scope.images);\r\n          })\r\n          .catch(function (err) {\r\n            console.error(err);\r\n          });\r\n        }\r\n\r\n        reader.readAsDataURL(changeEvent.target.files[0]);\r\n      });\r\n    }\r\n  }\r\n});\r\n  ","angular.module('merofood').directive('footerDir', function(){\r\n\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\ttemplateUrl: '../../views/footer.html'\r\n\t}\r\n\r\n});","angular.module('merofood').directive('headerDir', function(){\r\n\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\ttemplateUrl: '../../views/header.html'\r\n\t}\r\n\t\r\n});","","angular.module('merofood').directive('scrollSpy', function(){\r\n\r\n\treturn {\r\n\t\tlink: function(scope, element, attrs){\r\n\t\t\telement.click(function(){\r\n\t\t\t\telement.scrollSpy();\r\n\t\t\t\t// console.log('Scroll Spy Fired!!!!');\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n});","angular.module('merofood').factory('imageService', function($http){\r\n  // AMAZON S3\r\n\r\n  var service = {};\r\n\r\n  service.storeImage = function (imageData, fileName) {\r\n    var imageExtension = imageData.split(';')[0].split('/');\r\n    imageExtension = imageExtension[imageExtension.length - 1];\r\n\r\n    var newImage = {\r\n      imageName: fileName,\r\n      imageBody: imageData,\r\n      imageExtension: imageExtension,\r\n      userEmail: 'wangbhotia@gamil.com'\r\n    }\r\n\r\n    return $http.post('/newimage', newImage);\r\n  }\r\n  return service;\r\n});\r\n","angular.module('merofood').service('mainService', function($http){\r\n\r\n\tvar baseUrl = 'http://localhost:3000/';\r\n\r\n\tthis.selected = {};\r\n\r\n\t// GET ROUTES\r\n\t\r\n\tthis.getBusData = function(){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: baseUrl + 'businesses'\r\n\t\t}).then(function(response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n\tthis.getSpecialData = function(id){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: baseUrl + 'special/' + id\r\n\t\t}).then(function(response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n\tthis.getMenuData = function(id){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: baseUrl + 'menu/' + id\r\n\t\t}).then(function(response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n\tthis.getMenuItemsData = function(id){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: baseUrl + 'menuitems/' + id\r\n\t\t}).then(function(response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tthis.getGalleryData = function(id){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: baseUrl + 'gallery/' + id\r\n\t\t}).then(function(response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t// POST ROUTE\r\n\r\n\tthis.addNewBus = function(newBus){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: baseUrl + 'createbus',\r\n\t\t\tdata: newBus\r\n\t\t}).then(function(response){\r\n\t\t\treturn response;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t// PUT ROUTE -- UPDATE\r\n\r\n\tthis.updateBus = function(updatedBus){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'PUT',\r\n\t\t\turl: baseUrl + 'updatebus',\r\n\t\t\tdata: updatedBus\r\n\t\t}).then(function(response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t// DELETE ROUTE\r\n\r\n\tthis.deleteBus = function(id){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\turl: baseUrl + 'deletebus/' + id,\r\n\t\t}).then(function(response){\r\n\t\t\treturn response;\r\n\t\t});\r\n\t}\r\n\r\n});\r\n"]}