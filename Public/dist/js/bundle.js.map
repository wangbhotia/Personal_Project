{"version":3,"sources":["app.js","Controllers/detailsCtrl.js","Controllers/formsCtrl.js","Controllers/mainCtrl.js","Directives/fileread.js","Directives/footerDir.js","Directives/headerDir.js","Directives/mainDir.js","Directives/scrollSpyDir.js","Services/imagesService.js","Services/mainService.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","$scope","mainService","$stateParams","$location","bid","parseInt","id","getAllBus","getBusData","then","response","i","length","b1","getSpecial","getSpecialData","s1","getMenu","getMenuData","m1","getMenuItemsData","res","items","j","menuid","menu_id","push","getGallery","getGalleryData","g1","editBusiness","selected","path","deleteBusiness","console","log","deleteBus","alert","images","newBus","addBus","bus_logo","spimg1","spimg2","bus_cover_img","spbg1","spbg2","addNewBus","business","updateBusiness","update","updateBus","resFromDb","getBusiness","directive","imageService","restrict","link","scope","elem","attrs","bind","changeEvent","reader","FileReader","onloadend","loadEvent","fileread","target","result","tempArray","value","split","fileName","storeImage","data","Location","catch","err","error","readAsDataURL","files","element","click","scrollSpy","factory","$http","service","imageData","imageExtension","newImage","imageName","imageBody","userEmail","post","baseUrl","method","updatedBus"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('merofood', ['ui.router', 'ui.materialize'])\r\n\t.config(function($stateProvider, $urlRouterProvider){\r\n\r\n\t\t$stateProvider\r\n\r\n\t\t\t.state('home', {\r\n\t\t\t\turl: '/',\r\n\t\t\t\ttemplateUrl: '../views/main.html',\r\n\t\t\t\tcontroller: 'mainCtrl'\r\n\t\t\t})\r\n\r\n\t\t\t.state('b', {\r\n\t\t\t\turl: '/b/:id',\r\n\t\t\t\ttemplateUrl: '../views/merofood_default.html',\r\n\t\t\t\tcontroller: 'detailsCtrl'\r\n\t\t\t})\r\n\r\n\t\t\t.state('default', {\r\n\t\t\t\turl: '/default',\r\n\t\t\t\ttemplateUrl: '../views/merofood_default.html'\r\n\t\t\t})\r\n\r\n\t\t\t.state('night', {\r\n\t\t\t\turl: '/night',\r\n\t\t\t\ttemplateUrl: '../views/merofood_night.html'\r\n\t\t\t})\r\n\r\n\t\t\t.state('new-bus', { //Only if a User is logged in\r\n\t\t\t\turl: '/new-bus',\r\n\t\t\t\ttemplateUrl: '../views/new_bus.html',\r\n\t\t\t\tcontroller: 'formsCtrl'\r\n\t\t\t});\r\n\r\n\t\t\t$urlRouterProvider.otherwise('/');\r\n\r\n\t});","angular.module('merofood').controller('detailsCtrl', function($scope, mainService, $stateParams, $location){\r\n\t\r\n\tvar bid = parseInt($stateParams.id);\r\n\t\r\n\t// GET ALL BUSINESSES\r\n\t$scope.getAllBus = function(){\r\n\t\tmainService.getBusData().then(function(response){\r\n\t\t\t// console.log(response);\r\n\r\n\t\t\t// GET ONE BUSINESS WITH MATCHED ID\r\n\t\t\tfor(var i = 0; i < response.length; i++){\r\n\t\t\t\tif(response[i].id === bid){\r\n\t\t\t\t\t$scope.b1 = response[i];\r\n\t\t\t\t\t// console.log($scope.b1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t$scope.getAllBus();\r\n\r\n\r\n\t// GET ALL SPECIAL\r\n\t$scope.getSpecial = function(){\r\n\t\tmainService.getSpecialData(bid).then(function(response){\r\n\t\t\t$scope.s1 = response;\r\n\t\t\t// console.log($scope.s1);\r\n\t\t});\r\n\t}\r\n\r\n\t$scope.getSpecial();\r\n\r\n\r\n\t// GET ALL MENU\r\n\t$scope.getMenu = function(){\r\n\t\tmainService.getMenuData(bid).then(function(response){\r\n\t\t\t$scope.m1 = response;\r\n\t\t\tmainService.getMenuItemsData(bid).then(function(res){\r\n\t\t\t\tlet items = res;\r\n\t\t\t\tfor(let i = 0; i < $scope.m1.length; i++){\r\n\t\t\t\t\t$scope.m1[i].items = [];\r\n\t\t\t\t\tfor(let j = 0; j < items.length; j++){\r\n\t\t\t\t\t\tif(items[j].menuid === $scope.m1[i].menu_id){\r\n\t\t\t\t\t\t\t$scope.m1[i].items.push(items[j]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log('m1', $scope.m1);\r\n\t\t});\r\n\t}\r\n\r\n\t$scope.getMenu();\r\n\r\n\r\n\t// GET ALL GALLERY\r\n\t$scope.getGallery = function(){\r\n\t\tmainService.getGalleryData(bid).then(function(response){\r\n\t\t\t$scope.g1 = response;\r\n\t\t\t// console.log($scope.g1)\r\n\t\t});\r\n\t}\r\n\r\n\t$scope.getGallery();\r\n\r\n\r\n\t// UPDATE ONE BUSINESS\r\n\t$scope.editBusiness = function(b1){\r\n\t\tmainService.selected = b1;\r\n\t\t$location.path('/new-bus');\r\n\t}\r\n\r\n\r\n\t// DELETE ONE BUSINESS\r\n\t$scope.deleteBusiness = function(id){\r\n\t\tconsole.log(id);\r\n\t\tmainService.deleteBus(id).then(function(response){\r\n\t\t\talert('Business Successfully Deleted!!');\r\n\t\t\t$location.path('/');\r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n});","angular.module('merofood').controller('formsCtrl', function($scope, mainService, $location){\r\n\r\n\t$scope.images = [];\r\n\t$scope.newBus = mainService.selected;\r\n\t// console.log($scope.images);\r\n\t$scope.addBus = function(newBus){\r\n\t\t// console.log('addBus fn fired!!!');\r\n\t\tnewBus.bus_logo = $scope.images[0];\r\n\t\tnewBus.spimg1 = $scope.images[1];\r\n\t\tnewBus.spimg2 = $scope.images[2];\r\n\t\tnewBus.bus_cover_img = $scope.images[3];\r\n\t\tnewBus.spbg1 = $scope.images[4];\r\n\t\tnewBus.spbg2 = $scope.images[5];\r\n\r\n\t\tconsole.log(newBus);\r\n\r\n\t\tmainService.addNewBus(newBus).then(function(response){\r\n\t\t\t// console.log(respose);\r\n\t\t\t$scope.business = response;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t// UPDATE BUSINESS\r\n\r\n\t$scope.updateBusiness = function(update){\r\n\t\tmainService.updateBus(update).then(function(response){\r\n\t\t\t$scope.resFromDb = response;\r\n\t\t\t// console.log('update res: ', response);\r\n\t\t\t// $location.path('/');\r\n\t\t});\r\n\t}\r\n\r\n});","angular.module('merofood').controller('mainCtrl', function($scope, mainService){\r\n\r\n\t// console.log('mainCtrl running');\r\n\r\n\t$scope.getBusiness = function(){\r\n\t\tmainService.getBusData().then(function(response){\r\n\t\t\t$scope.business = response;\r\n\t\t\t// console.log($scope.business);\r\n\t\t});\r\n\t}\r\n\r\n\t$scope.getBusiness();\r\n\r\n\t// $scope.getSpecial = function(){\r\n\t// \tmainService.getSpecialData().then(function(response){\r\n\t// \t\t$scope.special = response;\r\n\t// \t\t// console.log($scope.special);\r\n\t// \t});\r\n\t// }\r\n\r\n\t// $scope.getSpecial();\r\n\r\n});","angular.module('merofood').directive('fileread', function (imageService) {\r\n  return {\r\n    restrict: 'A',\r\n    link: function (scope, elem, attrs) {\r\n      elem.bind(\"change\", function (changeEvent) {\r\n        var reader = new FileReader();\r\n\r\n        reader.onloadend = function (loadEvent) {\r\n          // debugger;\r\n          var fileread = loadEvent.target.result;\r\n          // console.warn(fileread);\r\n\r\n          // console.log('elem: ', elem);\r\n          var tempArray = elem[0].value.split('\\\\');\r\n          var fileName = tempArray[tempArray.length - 1];\r\n\r\n          imageService.storeImage(fileread, fileName)\r\n          .then(function (result) {\r\n            console.log(result.data.Location);\r\n            scope.images.push(result.data.Location);\r\n            // console.log('fileread: ', scope.images);\r\n          })\r\n          .catch(function (err) {\r\n            console.error(err);\r\n          });\r\n        }\r\n\r\n        reader.readAsDataURL(changeEvent.target.files[0]);\r\n      });\r\n    }\r\n  }\r\n});\r\n  ","angular.module('merofood').directive('footerDir', function(){\r\n\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\ttemplateUrl: '../../views/footer.html'\r\n\t}\r\n\r\n});","angular.module('merofood').directive('headerDir', function(){\r\n\r\n\treturn {\r\n\t\trestrict: 'E',\r\n\t\ttemplateUrl: '../../views/header.html'\r\n\t}\r\n\t\r\n});","","angular.module('merofood').directive('scrollSpy', function(){\r\n\r\n\treturn {\r\n\t\tlink: function(scope, element, attrs){\r\n\t\t\telement.click(function(){\r\n\t\t\t\telement.scrollSpy();\r\n\t\t\t\t// console.log('Scroll Spy Fired!!!!');\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n});","angular.module('merofood').factory('imageService', function($http){\r\n  // AMAZON S3\r\n\r\n  var service = {};\r\n\r\n  service.storeImage = function (imageData, fileName) {\r\n    var imageExtension = imageData.split(';')[0].split('/');\r\n    imageExtension = imageExtension[imageExtension.length - 1];\r\n\r\n    var newImage = {\r\n      imageName: fileName,\r\n      imageBody: imageData,\r\n      imageExtension: imageExtension,\r\n      userEmail: 'wangbhotia@gamil.com'\r\n    }\r\n\r\n    return $http.post('/newimage', newImage);\r\n  }\r\n  return service;\r\n});\r\n","angular.module('merofood').service('mainService', function($http){\r\n\r\n\tvar baseUrl = 'http://localhost:3000/';\r\n\r\n\tthis.selected = {};\r\n\r\n\t// GET ROUTES\r\n\t\r\n\tthis.getBusData = function(){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: baseUrl + 'businesses'\r\n\t\t}).then(function(response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n\tthis.getSpecialData = function(id){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: baseUrl + 'special/' + id\r\n\t\t}).then(function(response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n\tthis.getMenuData = function(id){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: baseUrl + 'menu/' + id\r\n\t\t}).then(function(response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n\tthis.getMenuItemsData = function(id){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: baseUrl + 'menuitems/' + id\r\n\t\t}).then(function(response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tthis.getGalleryData = function(id){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: baseUrl + 'gallery/' + id\r\n\t\t}).then(function(response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t// POST ROUTE\r\n\r\n\tthis.addNewBus = function(newBus){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: baseUrl + 'createbus',\r\n\t\t\tdata: newBus\r\n\t\t}).then(function(response){\r\n\t\t\treturn response;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t// PUT ROUTE -- UPDATE\r\n\r\n\tthis.updateBus = function(updatedBus){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'PUT',\r\n\t\t\turl: baseUrl + 'updatebus',\r\n\t\t\tdata: updatedBus\r\n\t\t}).then(function(response){\r\n\t\t\treturn response.data;\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t// DELETE ROUTE\r\n\r\n\tthis.deleteBus = function(id){\r\n\t\treturn $http({\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\turl: baseUrl + 'deletebus/' + id,\r\n\t\t}).then(function(response){\r\n\t\t\treturn response;\r\n\t\t});\r\n\t}\r\n\r\n});\r\n"]}